2025-06-28 08:45:33,419 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 08:45:33,419 INFO root 📍 服务器地址: http://127.0.0.1:8081
2025-06-28 08:45:33,420 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 08:45:33,420 INFO root 
💡 提示:
2025-06-28 08:45:33,420 INFO root   - 应用将自动在浏览器中打开
2025-06-28 08:45:33,420 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 08:45:33,420 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 08:45:33,421 INFO root 
==================================================
2025-06-28 08:45:33,430 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 08:45:33,619 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:45:33,622 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:45:33,623 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:45:33,625 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:45:33,627 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:45:33,628 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:45:33,629 INFO root ✅ 数据库服务初始化成功
2025-06-28 08:45:35,988 ERROR root ❌ 获取仪表板数据失败: 'WealthService' object has no attribute 'get_current_portfolio'
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 124, in get_dashboard_summary
    portfolio = self.wealth_service.get_current_portfolio()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'WealthService' object has no attribute 'get_current_portfolio'
2025-06-28 08:46:06,915 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 08:46:06,916 INFO root 📍 服务器地址: http://127.0.0.1:8081
2025-06-28 08:46:06,916 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 08:46:06,917 INFO root 
💡 提示:
2025-06-28 08:46:06,917 INFO root   - 应用将自动在浏览器中打开
2025-06-28 08:46:06,918 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 08:46:06,918 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 08:46:06,918 INFO root 
==================================================
2025-06-28 08:46:06,923 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 08:46:06,982 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:46:06,984 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:46:06,984 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:46:06,987 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:46:06,988 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:46:06,988 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:46:06,989 INFO root ✅ 数据库服务初始化成功
2025-06-28 08:46:09,128 ERROR root ❌ 获取仪表板数据失败: 'WealthService' object has no attribute 'get_current_portfolio'
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 124, in get_dashboard_summary
    portfolio = self.wealth_service.get_current_portfolio()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'WealthService' object has no attribute 'get_current_portfolio'
2025-06-28 08:47:41,216 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 08:47:41,217 INFO root 📍 服务器地址: http://127.0.0.1:8082
2025-06-28 08:47:41,217 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 08:47:41,217 INFO root 
💡 提示:
2025-06-28 08:47:41,217 INFO root   - 应用将自动在浏览器中打开
2025-06-28 08:47:41,217 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 08:47:41,218 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 08:47:41,218 INFO root 
==================================================
2025-06-28 08:47:41,223 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 08:47:41,284 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:47:41,285 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:47:41,285 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:47:41,286 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:47:41,287 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:47:41,288 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:47:41,288 INFO root ✅ 数据库服务初始化成功
2025-06-28 08:47:43,564 ERROR root ❌ 获取仪表板数据失败: 'Position' object has no attribute 'current_market_value'
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 127, in get_dashboard_summary
    total_assets = sum(pos.current_market_value() for pos in portfolio.positions)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Work\workspace\wealth_lite\main.py", line 127, in <genexpr>
    total_assets = sum(pos.current_market_value() for pos in portfolio.positions)
                       ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Position' object has no attribute 'current_market_value'. Did you mean: 'current_book_value'?
2025-06-28 08:48:49,977 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 08:48:49,977 INFO root 📍 服务器地址: http://127.0.0.1:8081
2025-06-28 08:48:49,977 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 08:48:49,977 INFO root 
💡 提示:
2025-06-28 08:48:49,977 INFO root   - 应用将自动在浏览器中打开
2025-06-28 08:48:49,978 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 08:48:49,978 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 08:48:49,978 INFO root 
==================================================
2025-06-28 08:48:49,983 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 08:48:50,048 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:48:50,049 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:48:50,049 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:48:50,050 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 08:48:50,051 INFO wealth_lite.data.database 索引创建完成
2025-06-28 08:48:50,051 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 08:48:50,051 INFO root ✅ 数据库服务初始化成功
2025-06-28 08:48:52,292 ERROR root ❌ 获取仪表板数据失败: 'Asset' object has no attribute 'name'
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 147, in get_dashboard_summary
    "name": pos.asset.name,
            ^^^^^^^^^^^^^^
AttributeError: 'Asset' object has no attribute 'name'
2025-06-28 09:27:14,710 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 09:27:14,710 INFO root 📍 服务器地址: http://127.0.0.1:8081
2025-06-28 09:27:14,711 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 09:27:14,711 INFO root 
💡 提示:
2025-06-28 09:27:14,711 INFO root   - 应用将自动在浏览器中打开
2025-06-28 09:27:14,711 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 09:27:14,711 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 09:27:14,711 INFO root 
==================================================
2025-06-28 09:27:14,716 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 09:27:14,779 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:27:14,780 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:27:14,780 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:27:14,782 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:27:14,783 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:27:14,783 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:27:14,783 INFO root ✅ 数据库服务初始化成功
2025-06-28 09:27:17,011 ERROR root ❌ 获取仪表板数据失败: 'Asset' object has no attribute 'name'
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 147, in get_dashboard_summary
    "name": pos.asset.name,
            ^^^^^^^^^^^^^^
AttributeError: 'Asset' object has no attribute 'name'
2025-06-28 09:27:33,480 DEBUG root [create_asset] 参数: name=活期-人民币1, type=AssetType.CASH, primary=, secondary=, currency=Currency.CNY, desc=, issuer=, credit=, ext={}
2025-06-28 09:27:33,480 INFO root [create_asset] 创建资产对象: Asset(活期-人民币1, 现金及等价物)
2025-06-28 09:27:33,481 DEBUG root [AssetRepository.create] SQL: INSERT INTO assets (
                    asset_id, asset_name, asset_type, primary_category, 
                    secondary_category, currency, description, issuer, 
                    credit_rating, extended_attributes
                ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | params: ('1880159f-cdc8-4e1c-be14-bf3ef7f80809', '活期-人民币1', '现金及等价物', '现金及等价物', '', '人民币', '', '', '', None)
2025-06-28 09:27:33,564 INFO root [AssetRepository.create] 资产插入成功: 1880159f-cdc8-4e1c-be14-bf3ef7f80809
2025-06-28 09:27:33,565 INFO root [create_asset] 资产已保存到数据库: 1880159f-cdc8-4e1c-be14-bf3ef7f80809
2025-06-28 09:53:42,371 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 09:53:42,371 INFO root 📍 服务器地址: http://127.0.0.1:8082
2025-06-28 09:53:42,371 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 09:53:42,372 INFO root 
💡 提示:
2025-06-28 09:53:42,372 INFO root   - 应用将自动在浏览器中打开
2025-06-28 09:53:42,372 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 09:53:42,372 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 09:53:42,372 INFO root 
==================================================
2025-06-28 09:53:42,377 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 09:53:42,448 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:53:42,449 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:53:42,449 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:53:42,450 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:53:42,452 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:53:42,452 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:53:42,452 INFO root ✅ 数据库服务初始化成功
2025-06-28 09:53:49,483 ERROR root ❌ 获取仪表板数据失败: 'Portfolio' object has no attribute 'last_updated'
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 162, in get_dashboard_summary
    "last_updated": portfolio.last_updated.isoformat() if portfolio.last_updated else None
                                                          ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Portfolio' object has no attribute 'last_updated'
2025-06-28 09:55:58,613 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 09:55:58,614 INFO root 📍 API服务器地址: http://127.0.0.1:8083
2025-06-28 09:55:58,614 INFO root 📍 前端页面地址: http://127.0.0.1:8083/static/index.html
2025-06-28 09:55:58,614 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 09:55:58,614 INFO root 
💡 手动测试模式:
2025-06-28 09:55:58,615 INFO root   - 请手动在浏览器中打开前端页面
2025-06-28 09:55:58,615 INFO root   - 前端服务器：python src/wealth_lite/ui/serve.py
2025-06-28 09:55:58,615 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 09:55:58,615 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 09:55:58,615 INFO root 
==================================================
2025-06-28 09:55:58,619 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 09:55:58,682 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:55:58,683 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:55:58,684 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:55:58,685 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:55:58,686 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:55:58,686 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:55:58,686 INFO root ✅ 数据库服务初始化成功
2025-06-28 09:56:31,073 ERROR root ❌ 获取仪表板数据失败: 'Asset' object has no attribute 'name'
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 147, in get_dashboard_summary
    "name": pos.asset.name,
            ^^^^^^^^^^^^^^
AttributeError: 'Asset' object has no attribute 'name'
2025-06-28 09:59:08,419 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 09:59:08,419 INFO root 📍 API服务器地址: http://127.0.0.1:8083
2025-06-28 09:59:08,420 INFO root 📍 前端页面地址: http://127.0.0.1:8083/static/index.html
2025-06-28 09:59:08,420 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 09:59:08,420 INFO root 
💡 提示:
2025-06-28 09:59:08,421 INFO root   - 应用将自动在浏览器中打开
2025-06-28 09:59:08,421 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 09:59:08,421 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 09:59:08,421 INFO root 
==================================================
2025-06-28 09:59:08,426 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 09:59:08,485 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:59:08,486 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:59:08,487 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:59:08,488 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 09:59:08,489 INFO wealth_lite.data.database 索引创建完成
2025-06-28 09:59:08,489 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 09:59:08,489 INFO root ✅ 数据库服务初始化成功
2025-06-28 09:59:12,911 ERROR root ❌ 获取仪表板数据失败: 'Position' object has no attribute 'quantity'
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 151, in get_dashboard_summary
    "quantity": float(pos.quantity),
                      ^^^^^^^^^^^^
AttributeError: 'Position' object has no attribute 'quantity'
2025-06-28 09:59:25,137 ERROR root ❌ 创建交易失败: 400: 无效的交易类型: PURCHASE
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 347, in create_transaction
    tx_type = TransactionType[tx_type]  # 用名字查找
              ~~~~~~~~~~~~~~~^^^^^^^^^
  File "E:\Installed\anaconda3\envs\stock_analysis\Lib\enum.py", line 808, in __getitem__
    return cls._member_map_[name]
           ~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'PURCHASE'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 349, in create_transaction
    raise HTTPException(status_code=400, detail=f"无效的交易类型: {tx_type}")
fastapi.exceptions.HTTPException: 400: 无效的交易类型: PURCHASE
2025-06-28 09:59:55,864 ERROR root ❌ 创建交易失败: 400: 无效的交易类型: REDEMPTION
Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 347, in create_transaction
    tx_type = TransactionType[tx_type]  # 用名字查找
              ~~~~~~~~~~~~~~~^^^^^^^^^
  File "E:\Installed\anaconda3\envs\stock_analysis\Lib\enum.py", line 808, in __getitem__
    return cls._member_map_[name]
           ~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'REDEMPTION'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Work\workspace\wealth_lite\main.py", line 349, in create_transaction
    raise HTTPException(status_code=400, detail=f"无效的交易类型: {tx_type}")
fastapi.exceptions.HTTPException: 400: 无效的交易类型: REDEMPTION
2025-06-28 10:04:01,052 INFO root 🚀 启动 WealthLite 应用...
2025-06-28 10:04:01,052 INFO root 📍 API服务器地址: http://127.0.0.1:8081
2025-06-28 10:04:01,052 INFO root 📍 前端页面地址: http://127.0.0.1:8081/static/index.html
2025-06-28 10:04:01,052 INFO root 📁 工作目录: E:\Work\workspace\wealth_lite
2025-06-28 10:04:01,053 INFO root 
💡 提示:
2025-06-28 10:04:01,053 INFO root   - 应用将自动在浏览器中打开
2025-06-28 10:04:01,053 INFO root   - 按 Ctrl+C 停止应用
2025-06-28 10:04:01,053 INFO root   - 数据保存在 user_data/ 目录
2025-06-28 10:04:01,053 INFO root 
==================================================
2025-06-28 10:04:01,058 DEBUG asyncio Using proactor: IocpProactor
2025-06-28 10:04:01,121 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 10:04:01,122 INFO wealth_lite.data.database 索引创建完成
2025-06-28 10:04:01,122 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 10:04:01,124 INFO wealth_lite.data.database 数据表创建完成
2025-06-28 10:04:01,125 INFO wealth_lite.data.database 索引创建完成
2025-06-28 10:04:01,125 INFO wealth_lite.data.database 数据库初始化完成: user_data\wealth_lite.db
2025-06-28 10:04:01,126 INFO root ✅ 数据库服务初始化成功
2025-06-28 10:04:03,580 ERROR root ❌ 获取仪表板数据失败: 'Position' object has no attribute 'quantity'
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 151, in get_dashboard_summary
    "quantity": float(pos.quantity),
                      ^^^^^^^^^^^^
AttributeError: 'Position' object has no attribute 'quantity'
2025-06-28 10:05:13,713 DEBUG root [create_asset] 参数: name=股票, type=AssetType.EQUITY, primary=, secondary=, currency=Currency.CNY, desc=, issuer=, credit=, ext={}
2025-06-28 10:05:13,714 INFO root [create_asset] 创建资产对象: Asset(股票, 权益类)
2025-06-28 10:05:13,714 DEBUG root [AssetRepository.create] SQL: INSERT INTO assets (
                    asset_id, asset_name, asset_type, primary_category, 
                    secondary_category, currency, description, issuer, 
                    credit_rating, extended_attributes
                ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | params: ('64e354f2-7458-4c92-af76-710387b41ad8', '股票', '权益类', '权益类', '', '人民币', '', '', '', None)
2025-06-28 10:05:13,794 INFO root [AssetRepository.create] 资产插入成功: 64e354f2-7458-4c92-af76-710387b41ad8
2025-06-28 10:05:13,795 INFO root [create_asset] 资产已保存到数据库: 64e354f2-7458-4c92-af76-710387b41ad8
2025-06-28 10:05:19,685 ERROR root ❌ 创建交易失败: 400: 无效的交易类型: PURCHASE
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 347, in create_transaction
    tx_type = TransactionType[tx_type]  # 用名字查找
              ~~~~~~~~~~~~~~~^^^^^^^^^
  File "E:\Installed\anaconda3\envs\stock_analysis\Lib\enum.py", line 808, in __getitem__
    return cls._member_map_[name]
           ~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'PURCHASE'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 349, in create_transaction
    raise HTTPException(status_code=400, detail=f"无效的交易类型: {tx_type}")
fastapi.exceptions.HTTPException: 400: 无效的交易类型: PURCHASE
2025-06-28 10:12:40,943 DEBUG root [create_asset] 参数: name=外汇基金, type=AssetType.FIXED_INCOME, primary=, secondary=, currency=Currency.USD, desc=, issuer=, credit=, ext={}
2025-06-28 10:12:40,943 INFO root [create_asset] 创建资产对象: Asset(外汇基金, 固定收益类)
2025-06-28 10:12:40,944 DEBUG root [AssetRepository.create] SQL: INSERT INTO assets (
                    asset_id, asset_name, asset_type, primary_category, 
                    secondary_category, currency, description, issuer, 
                    credit_rating, extended_attributes
                ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | params: ('b629a284-e56e-4d36-890b-87cd62fcff2e', '外汇基金', '固定收益类', '固定收益类', '', '美元', '', '', '', None)
2025-06-28 10:12:41,016 INFO root [AssetRepository.create] 资产插入成功: b629a284-e56e-4d36-890b-87cd62fcff2e
2025-06-28 10:12:41,017 INFO root [create_asset] 资产已保存到数据库: b629a284-e56e-4d36-890b-87cd62fcff2e
2025-06-28 10:12:45,258 ERROR root ❌ 创建交易失败: 400: 无效的交易类型: PURCHASE
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 347, in create_transaction
    tx_type = TransactionType[tx_type]  # 用名字查找
              ~~~~~~~~~~~~~~~^^^^^^^^^
  File "E:\Installed\anaconda3\envs\stock_analysis\Lib\enum.py", line 808, in __getitem__
    return cls._member_map_[name]
           ~~~~~~~~~~~~~~~~^^^^^^
KeyError: 'PURCHASE'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 349, in create_transaction
    raise HTTPException(status_code=400, detail=f"无效的交易类型: {tx_type}")
fastapi.exceptions.HTTPException: 400: 无效的交易类型: PURCHASE
2025-06-28 10:12:51,076 ERROR root ❌ 创建交易失败: 资产类型不匹配，期望: AssetType.CASH, 实际: AssetType.FIXED_INCOME
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 364, in create_transaction
    tx = self.wealth_service.create_cash_transaction(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\Work\workspace\wealth_lite\src\wealth_lite\services\wealth_service.py", line 158, in create_cash_transaction
    raise ValueError(f"资产类型不匹配，期望: {AssetType.CASH}, 实际: {asset.asset_type}")
ValueError: 资产类型不匹配，期望: AssetType.CASH, 实际: AssetType.FIXED_INCOME
2025-06-28 10:13:02,550 ERROR root ❌ 创建交易失败: 资产类型不匹配，期望: AssetType.CASH, 实际: AssetType.FIXED_INCOME
Traceback (most recent call last):
  File "e:\Work\workspace\wealth_lite\main.py", line 364, in create_transaction
    tx = self.wealth_service.create_cash_transaction(
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\Work\workspace\wealth_lite\src\wealth_lite\services\wealth_service.py", line 158, in create_cash_transaction
    raise ValueError(f"资产类型不匹配，期望: {AssetType.CASH}, 实际: {asset.asset_type}")
ValueError: 资产类型不匹配，期望: AssetType.CASH, 实际: AssetType.FIXED_INCOME
